!function(){"use strict";window.doctored={event:{bindings:{},on:function(e,t){var s=window.doctored.event.bindings;void 0===s[e]&&(s[e]=[]),s[e].push(t)},off:function(e,t){var s=window.doctored.event.bindings,n=t.toString(),i;if(void 0!==s[e])for(i=s[e].length;i>0;i--)n==s[e][i].toString()&&s[e].splice(i,1)},trigger:function(e){var t=window.doctored.event.bindings,s;if(void 0!==t[e])for(s=0;s<t[e].length;s++)setTimeout(t[e][s],0)}},$:function(e,t){return t=t||document,e||(console.log("Empty selector"),console.trace()),e.indexOf(" ")>=0||e.indexOf("[")>=0?t.querySelectorAll(e):"#"===e.substring(0,1)?t.getElementById(e.substring(1)):"."===e.substring(0,1)?t.getElementsByClassName(e.substring(1)):t.getElementsByTagName(e)},$xml:function(e,t,s,n){return t?e.indexOf(" ")>=0||e.indexOf("[")>=0?t.querySelectorAll(e):"#"===e.substring(0,1)?t.getElementById(e.substring(1)):"."===e.substring(0,1)?t.getElementsByClassName(e.substring(1)):t.getElementsByTagNameNS(s,e):alert("ERROR: $xml called without a scope")},_to_be_initialized:[],init:function(e,t){window.doctored._to_be_initialized.push({selector:e,options:t})}};var $=window.doctored.$,e=$("head"),t=$("body"),s=Array.prototype.slice.call($("script")),n=s[s.length-1],i={js:["js/app-linters.js","js/app-util.js","js/app-schemas.js","js/app.js","js/shims.js","libs/filesaver.js/FileSaver.js","js/behaviours.js"],css:["css/themes.css","css/screen.css","css/voiture.css"]},o=i.js.length+i.css.length,r=function(){o--,0===o&&window.doctored.event.trigger("app:ready")},d,l;if(1!==e.length||1!==t.length)return alert("Error: Doctored.js must be included at the end of the <body> tag. This may change if enough people complain.");for(e=e[0],t=t[0],window.doctored.base=n.src.substr(0,n.src.lastIndexOf("/")+1),d=0;d<i.js.length;d++)l=document.createElement("script"),l.setAttribute("src",window.doctored.base+i.js[d]),l.addEventListener("load",r,!1),t.appendChild(l);for(d=0;d<i.css.length;d++)l=document.createElement("link"),l.setAttribute("rel","stylesheet"),l.setAttribute("href",window.doctored.base+i.css[d]),l.addEventListener("load",r,!1),e.appendChild(l)}();